<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    {% load static %}
</head>
<body class="bg-danger">
    <div class="signup-box container mt-4 p-5 bg-light" style="height: 100%; border-radius: 20px;">
        <h2 class="text-danger"><u>Edit Details!</u></h2>
        <div class="">
            <form action="{% url 'edittchr' t.user.id %}" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <!-- <input class="w-100 p-2 mr-3 mb-3 signup-input" style="border-radius: 10px;" type="text" name="fname" placeholder="Firstname" required><br>
                <input class="w-100 p-2 mr-3 mb-3 signup-input" style="border-radius: 10px;" type="text" name="lname" placeholder="Lastname" required><br> -->
                <div class="row">
                    <div class="col">
                        <label for="">First Name:</label><br>
                        <input type="text" class="p-2 mr-3 mb-3 form-control" placeholder="First name" name="fname" value="{{t.user.first_name}}" required>
                    </div>
                    <div class="col">
                        <label for="">Last Name:</label><br>
                        <input type="text" class="p-2 mr-3 mb-3 form-control" placeholder="Last name" name="lname" value="{{t.user.last_name}}" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="">Username:</label><br>
                        <input type="text" class="p-2 mr-3 mb-3 form-control" placeholder="Username" name="uname" value="{{t.user.username}}" required>
                    </div>
                    <div class="col">
                        <label for="">Email:</label><br>
                        <input type="email" class="p-2 mr-3 mb-3 form-control" placeholder="Email" name="mail" value="{{t.user.email}}" required>
                    </div>
                </div>
                <!-- <div class="row">
                    <div class="col">
                        <label for="">New Password:</label><br>
                        <input type="password" class="p-2 mr-3 mb-3 form-control" placeholder="Password" name="pass" value="" required>
                    </div>
                    <div class="col">
                        <label for="">Confirm New Password:</label><br>
                        <input type="password" class="p-2 mr-3 mb-3 form-control" placeholder="Confirm Password" value="" name="cpass" required>
                    </div>
                </div> -->
                <div class="row">
                    <div class="col">
                        <label for="">Age:</label><br>
                        <input type="number" class="p-2 mr-3 mb-3 form-control" value="{{t.age}}" placeholder="Age" name="age" required>
                    </div>
                    <div class="col">
                        <label for="">Phone Number:</label><br>
                        <input type="text" class="p-2 mr-3 mb-3 form-control" value="{{t.phone}}" placeholder="Phone Number" name="phone" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="">Address:</label><br>
                        <input type="text" class="p-2 mr-3 mb-3 form-control" value="{{t.address}}" placeholder="Address" name="address" required>
                    </div>
                    <div class="col">
                        
                        <label for="">Course:</label><br>
                        <select id="course" name="course" class="form-control">
                            {% for c in cou %}

                            {% if c.id == t.course.id %}
                            <option value="{{c.id}}" selected>{{c.coursename}}</option>
                            
                            {% else %}
                            <option value="{{c.id}}">{{c.coursename}}</option>
                            {% endif %}

                            {% endfor %}
                        </select>

                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="">Image:</label><br>
                        <img src="{{ t.image.url }}" class="w-25 mx-auto" alt=""><br>{{ t.image }}
                        <input type="file" class="p-2 mr-3 mb-3 form-control" placeholder="" value="{{t.image}}" name="img" id="img">
                    </div>
                </div>
                
                <button type="submit" class=" btn btn-primary signup-button">Update</button>
                <button type="button" class="btn btn-secondary"><a href="{% url 'view' %}" class="text-white">Cancel</a></button>
            </form>
        
            {% for msg in messages %}
            <h6>
                <div class="text-center alert alert-danger m-3" >
                {{ msg }}
                </div>
            </h6>
            {% endfor %}
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const selectedValue = "{{ t.course.id }}"; // Get the selected course ID
            const dropdown = document.getElementById('course'); // The dropdown element
    
            // Loop through each option in the dropdown and hide the selected one from the list
            for (let option of dropdown.options) {
                if (option.value === selectedValue) {
                    option.style.display = 'none'; // Hide the selected option from the list
                    
                }
            }
        });
    </script>
</body>
</html>